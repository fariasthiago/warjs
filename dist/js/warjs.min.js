var warjs=function(){function warjs(){$(window).scroll(scrollMove),$(window).resize(screenResize),scrollMove(),screenResize(),render()}function scrollMove(){scrollPosY=$(document).scrollTop(),render()}function screenResize(){$screenHeight=screenHeight=$(window).height(),$screenWidth=screenWidth=$(window).width();for(obj in elements_size){var a=elements_size[obj].obj;if(elements_size[obj].height){var b=parseInt(compileSintax(elements_size[obj].height)),c=b;elements_size[obj].limitH&&elements_size[obj].limitH>b&&(c=elements_size[obj].limitH),a.height(c)}if(elements_size[obj].width){var d=parseInt(compileSintax(elements_size[obj].width)),e=d;elements_size[obj].limitW&&elements_size[obj].limitW>d&&(e=elements_size[obj].limitH),a.width(c)}}render()}function addShotClass(a,b,c){window.setTimeout(function(){a.obj.addClass(b)},c)}function removeShotClass(a,b,c){window.setTimeout(function(){a.obj.removeClass(b)},c)}function shotCallFunction(a,b,c){window.setTimeout(function(){"function"==typeof window[b]&&window[b](a)},c)}function render(){100*scrollPosY/($(document).height()-$(window).height());for(objShot in elements_shot){var a=0,b=parseInt(compileSintax(elements_shot[objShot].delay)),c=parseInt(compileSintax(elements_shot[objShot].limit)),d=elements_shot[objShot],e=d.name;a="self"==d.point?elements_shot[objShot].obj.offset().top:parseInt(compileSintax(d.point)),"pin"==d.type?scrollPosY>=a+c?d.obj.hasClass(e)||d.obj.addClass(e):d.obj.hasClass(e)&&d.obj.removeClass(e):scrollPosY+$screenHeight>=a+c&&("addClass"==d.type?addShotClass(d,e,b):"removeClass"==d.type?removeShotClass(d,e,b):shotCallFunction(d,e,b),delete elements_shot[objShot])}activeMenu=null;for(objMenu in elements_menu){var a=0,f=parseInt(compileSintax(elements_menu[objMenu].limit));a=$(elements_menu[objMenu].target).offset().top,scrollPosY>=a-f&&(activeMenu=elements_menu[objMenu])}activeMenu?activeMenu!=activeMenuOld&&(activeMenuOld&&activeMenuOld.obj.removeClass(activeMenuOld["class"]),activeMenu.obj.addClass(activeMenu["class"]),activeMenuOld=activeMenu,activeMenu=null):activeMenuOld&&(activeMenuOld.obj.removeClass(activeMenuOld["class"]),activeMenuOld=null);for(obj in elements){var g=elements[obj].obj,h=elements[obj].target,i=elements[obj].porc[0],j=elements[obj].porc[1],k=elements[obj].vars[0],l=elements[obj].vars[1],m=compileSintax(k),n=compileSintax(l),o=elements[obj].prefix,p=elements[obj].typevar,q=elements[obj].toplimit,r=elements[obj].bottomlimit,s=elements[obj].debug,t=elements[obj].idobj;if(elements[obj].parent){var u=$(elements[obj].parent);$parentWidth=u.width(),$parentWidthIn=u.innerWidth(),$parentHeight=u.height(),$parentHeightIn=u.innerHeight()}""==p&&(k.indexOf("px")>0?p="px":k.indexOf("%")>0&&(p="%"));var v=0;""!=q&&(isNaN(q)?"true"==q&&(v=screenHeight):v=q);var w=0;""!=r&&(isNaN(r)?"true"==r&&(w=screenHeight):w=r);var x,y,z,A,B;if(elements[obj].parent?u.offset()&&(x=u.outerHeight(),y=u.offset().top-v,z=scrollPosY-y):(x=g.outerHeight(),y=g.offset().top-v,z=scrollPosY-y),A=x+Number(v)-Number(w),B=100*z/A,i>=B&&(D=m),B>=0&&100>=B&&B>=i&&j>=B)var C=B-i,D=m+(n-m)*C/(j-i);B>=j&&(D=n);for(var E=h.split(","),F={},G=0;G<E.length;G++)g.css(E[G])!=D+p&&(F[E[G]]=o+D+p,g.css(E[G],o+D+p));s&&($("#debugtop_obj"+t).css("top",y+"px"),$("#debugbottom_obj"+t).css("top",y+A+"px"))}}function addElementInArray(a,b,c,d,e,f,g,h,i,j){var k={obj:a,idobj:objid,target:b,porc:c,vars:d,parent:e,toplimit:f,bottomlimit:g,typevar:h,prefix:i,debug:j};a.attr("data-war-name","obj"+objid),elements["obj"+objid]=k,objid++}function Jsoncorrect(a){return a.replace(/([\$\w]+)\s*:/g,function(a,b){return'"'+b+'":'}).replace(/'([^']+)'/g,function(a,b){return'"'+b+'"'})}function compileSintax(sintax){try{return eval(sintax)}catch(e){return sintax}}function moveTo(a,b){$("html, body").animate({scrollTop:$(a).offset().top-b},1e3)}var scrollPosY=0,screenHeight=0,screenWidth=0,elements={},elements_size={},elements_shot={},elements_menu={},objid=0,$screenHeight=0,$screenWidth=0,$parentWidth=0,$parentHeight=0,$parentWidthIn=0,$parentHeightIn=0;warjs();var activeMenu,activeMenuOld;this.mount=function(){$("[data-war-shot]").each(function(){var a=$(this),b=JSON.parse(Jsoncorrect(a.data("war-shot"))),c=0,d=0,e="addClass";b.limit&&(c=b.limit),b.type&&(e=b.type),b.delay&&(d=b.delay);var f={obj:a,name:b.name,point:b.point,limit:c,delay:d,type:e};elements_shot["obj"+objid]=f,objid++,screenResize()}),$("[data-war-menu]").each(function(){var a=$(this),b=JSON.parse(Jsoncorrect(a.data("war-menu"))),c=0,d=0,e="active";b.limit&&(c=b.limit),b.limitMove&&(d=b.limitMove),b["class"]&&(e=b["class"]);var f={obj:a,"class":e,target:b.target,limit:c,limitMove:d};$(this).attr("href")&&a.attr("href","javascript:void(0)"),a.on("click",function(){moveTo(b.target,d)}),elements_menu["obj"+objid]=f,objid++,screenResize()}),$("[data-war-size]").each(function(){var a=$(this),b=JSON.parse(Jsoncorrect(a.data("war-size"))),c={obj:a,height:b.height,width:b.width,limitH:b.limitH,limitW:b.limitW};elements_size["obj"+objid]=c,objid++,screenResize()}),$("[data-war]").each(function(){var a=$(this),b=JSON.parse(Jsoncorrect(a.data("war"))),c=b.parent,d=!1,e=!1,f="",g="",h=!1;if(b.toplimit&&(d=b.toplimit),b.bottomlimit&&(e=b.bottomlimit),b.debug&&(h=b.debug),$.isArray(b.animate[0]))for(var i=0;i<b.animate.length;i++)b.animate[i][3]&&(f=b.animate[i][3]),b.animate[i][4]&&(g=b.animate[i][4]),addElementInArray(a,b.animate[i][0],b.animate[i][1],b.animate[i][2],c,d,e,f,g,h);else b.animate[3]&&(f=b.animate[3]),b.animate[4]&&(g=b.animate[4]),addElementInArray(a,b.animate[0],b.animate[1],b.animate[2],c,d,e,f,g,h);if(h){var j=a.data("war-name");$("body").prepend('<div id="debugtop_'+j+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 10px; right: 10px;color: red;border-bottom: 1px solid red;    margin-top: -14px;">Limit Top - '+j+"</div>"),$("body").prepend('<div id="debugbottom_'+j+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 30px; right: 10px;color: green;border-bottom: 1px solid green;    margin-top: -14px;">Limit Bottom - '+j+"</div>")}}),render()},this.moveTo=function(a,b){moveTo(a,b)}};