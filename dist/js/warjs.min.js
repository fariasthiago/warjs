var warjs=function(){function warjs(){$(window).scroll(scrollMove),$(window).resize(screenResize),scrollMove(),screenResize(),render()}function scrollMove(){scrollPosY=$(document).scrollTop(),render()}function screenResize(){$screenHeight=screenHeight=$(window).height(),$screenWidth=screenWidth=$(window).width();for(obj in elements_size){var objeto=elements_size[obj].obj;if(elements_size[obj].height){var objH=parseInt(compileSintax(elements_size[obj].height));objH||$(elements_size[obj].height).length&&(objH=$(elements_size[obj].height).outerHeight(!0));var hend=objH;elements_size[obj].limitH&&elements_size[obj].limitH>objH&&(hend=elements_size[obj].limitH),objeto.height(hend)}if(elements_size[obj].width){var objW=parseInt(compileSintax(elements_size[obj].width)),wend=objW;elements_size[obj].limitW&&elements_size[obj].limitW>objW&&(wend=elements_size[obj].limitH),objeto.width(hend)}}render()}function addShotClass(object,className,delay){window.setTimeout(function(){object.obj.addClass(className)},delay)}function removeShotClass(object,className,delay){window.setTimeout(function(){object.obj.removeClass(className)},delay)}function shotCallFunction(object,className,delay){window.setTimeout(function(){"function"==typeof window[className]&&window[className](object)},delay)}function render(){100*scrollPosY/($(document).height()-$(window).height());for(objShot in elements_shot){var point=0,shotDelay=parseInt(compileSintax(elements_shot[objShot].delay)),shotLimit=parseInt(compileSintax(elements_shot[objShot].limit)),objTemp=elements_shot[objShot],objClass=objTemp.name;point="self"==objTemp.point?elements_shot[objShot].obj.offset().top:parseInt(compileSintax(objTemp.point)),"pin"==objTemp.type?scrollPosY>=point+shotLimit?objTemp.obj.hasClass(objClass)||objTemp.obj.addClass(objClass):objTemp.obj.hasClass(objClass)&&objTemp.obj.removeClass(objClass):scrollPosY+$screenHeight>=point+shotLimit&&("addClass"==objTemp.type?addShotClass(objTemp,objClass,shotDelay):"removeClass"==objTemp.type?removeShotClass(objTemp,objClass,shotDelay):shotCallFunction(objTemp,objClass,shotDelay),delete elements_shot[objShot])}activeMenu=null;for(objMenu in elements_menu){var point=0,menuLimit=parseInt(compileSintax(elements_menu[objMenu].limit));point=$(elements_menu[objMenu].target).offset().top,scrollPosY>=point-menuLimit&&(activeMenu=elements_menu[objMenu])}activeMenu?activeMenu!=activeMenuOld&&(activeMenuOld&&activeMenuOld.obj.removeClass(activeMenuOld["class"]),activeMenu.obj.addClass(activeMenu["class"]),activeMenuOld=activeMenu,activeMenu=null):activeMenuOld&&(activeMenuOld.obj.removeClass(activeMenuOld["class"]),activeMenuOld=null);for(obj in elements){var objeto=elements[obj].obj,target=elements[obj].target,porcIni=elements[obj].porc[0],porcEnd=elements[obj].porc[1],varElementInit=elements[obj].vars[0],varElementEnd=elements[obj].vars[1],variantIni=compileSintax(varElementInit),variantEnd=compileSintax(varElementEnd),prefix=elements[obj].prefix,tipo=elements[obj].typevar,topLimit=elements[obj].toplimit,bottomLimit=elements[obj].bottomlimit,debug=elements[obj].debug,idObjeto=elements[obj].idobj;if(elements[obj].parent){var parent=$(elements[obj].parent);$parentWidth=parent.width(),$parentWidthIn=parent.innerWidth(),$parentHeight=parent.height(),$parentHeightIn=parent.innerHeight()}""==tipo&&(varElementInit.indexOf("px")>0?tipo="px":varElementInit.indexOf("%")>0&&(tipo="%"));var objLimitTop=0;""!=topLimit&&(isNaN(topLimit)?"true"==topLimit&&(objLimitTop=screenHeight):objLimitTop=topLimit);var objLimitBottom=0;""!=bottomLimit&&(isNaN(bottomLimit)?"true"==bottomLimit&&(objLimitBottom=screenHeight):objLimitBottom=bottomLimit);var objHeight,objXinit,difInit,difEnd,porc;if(elements[obj].parent?parent.offset()?(objHeight=parent.outerHeight(),objXinit=parent.offset().top-objLimitTop,difInit=scrollPosY-objXinit):console.log("Não foi possível detectar o parent "+elements[obj].parent):(objHeight=objeto.outerHeight(),objXinit=objeto.offset().top-objLimitTop,difInit=scrollPosY-objXinit),difEnd=objHeight+Number(objLimitTop)-Number(objLimitBottom),porc=100*difInit/difEnd,porcIni>=porc&&(valorfinal=variantIni),porc>=0&&100>=porc&&porc>=porcIni&&porcEnd>=porc)var newporc=porc-porcIni,valorfinal=variantIni+(variantEnd-variantIni)*newporc/(porcEnd-porcIni);porc>=porcEnd&&(valorfinal=variantEnd);for(var itens=target.split(","),sintaxCss={},x=0;x<itens.length;x++)objeto.css(itens[x])!=valorfinal+tipo&&(sintaxCss[itens[x]]=prefix+valorfinal+tipo,objeto.css(itens[x],prefix+valorfinal+tipo));debug&&($("#debugtop_obj"+idObjeto).css("top",objXinit+"px"),$("#debugbottom_obj"+idObjeto).css("top",objXinit+difEnd+"px"))}}function addElementInArray(obj,target,porc,variant,parent,toplimit,bottomlimit,typevar,prefix,debug){var objeto={obj:obj,idobj:objid,target:target,porc:porc,vars:variant,parent:parent,toplimit:toplimit,bottomlimit:bottomlimit,typevar:typevar,prefix:prefix,debug:debug};obj.attr("data-war-name","obj"+objid),elements["obj"+objid]=objeto,objid++}function Jsoncorrect(str){return str.replace(/([\$\w]+)\s*:/g,function(_,$1){return'"'+$1+'":'}).replace(/'([^']+)'/g,function(_,$1){return'"'+$1+'"'})}function compileSintax(sintax){try{return eval(sintax)}catch(e){return sintax}}function moveTo(idpage,limitMove){$("html, body").animate({scrollTop:$(idpage).offset().top-limitMove},1e3)}var scrollPosY=0,screenHeight=0,screenWidth=0,elements={},elements_size={},elements_shot={},elements_menu={},objid=0,$screenHeight=0,$screenWidth=0,$parentWidth=0,$parentHeight=0,$parentWidthIn=0,$parentHeightIn=0;warjs();var activeMenu,activeMenuOld;this.mount=function(){$("[data-war-shot]").each(function(){var element=$(this),dados=JSON.parse(Jsoncorrect(element.data("war-shot"))),limit=0,delay=0,type="addClass";dados.limit&&(limit=dados.limit),dados.type&&(type=dados.type),dados.delay&&(delay=dados.delay);var objeto={};if("object"==typeof type)for(var item in type)objeto={obj:element,name:type[item],point:dados.point,limit:limit,delay:delay,type:item},elements_shot["obj"+objid]=objeto,objid++;else objeto={obj:element,name:dados.name,point:dados.point,limit:limit,delay:delay,type:type},elements_shot["obj"+objid]=objeto,objid++;screenResize()}),$("[data-war-menu]").each(function(){var element=$(this),dados=JSON.parse(Jsoncorrect(element.data("war-menu"))),limit=0,limitMove=0,classname="active";dados.limit&&(limit=dados.limit),dados.limitMove&&(limitMove=dados.limitMove),dados["class"]&&(classname=dados["class"]);var objeto={obj:element,"class":classname,target:dados.target,limit:limit,limitMove:limitMove};$(this).attr("href")&&element.attr("href","javascript:void(0)"),element.on("click",function(){moveTo(dados.target,limitMove)}),elements_menu["obj"+objid]=objeto,objid++,screenResize()}),$("[data-war-size]").each(function(){var element=$(this),dados=JSON.parse(Jsoncorrect(element.data("war-size"))),objeto={obj:element,height:dados.height,width:dados.width,limitH:dados.limitH,limitW:dados.limitW};elements_size["obj"+objid]=objeto,objid++,screenResize()}),$("[data-war]").each(function(){var element=$(this),dados=JSON.parse(Jsoncorrect(element.data("war"))),parent=dados.parent,toplimit=!1,bottomlimit=!1,typvar="",prefix="",debug=!1;if(dados.toplimit&&(toplimit=dados.toplimit),dados.bottomlimit&&(bottomlimit=dados.bottomlimit),dados.debug&&(debug=dados.debug),$.isArray(dados.animate[0]))for(var i=0;i<dados.animate.length;i++)dados.animate[i][3]&&(typvar=dados.animate[i][3]),dados.animate[i][4]&&(prefix=dados.animate[i][4]),addElementInArray(element,dados.animate[i][0],dados.animate[i][1],dados.animate[i][2],parent,toplimit,bottomlimit,typvar,prefix,debug);else dados.animate[3]&&(typvar=dados.animate[3]),dados.animate[4]&&(prefix=dados.animate[4]),addElementInArray(element,dados.animate[0],dados.animate[1],dados.animate[2],parent,toplimit,bottomlimit,typvar,prefix,debug);if(debug){var objDataName=element.data("war-name");$("body").prepend('<div id="debugtop_'+objDataName+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 10px; right: 10px;color: red;border-bottom: 1px solid red;    margin-top: -14px;">Limit Top - '+objDataName+"</div>"),$("body").prepend('<div id="debugbottom_'+objDataName+'" style="z-index:999; font-family:Arial;font-size: 12px; position: absolute; top: 30px; right: 10px;color: green;border-bottom: 1px solid green;    margin-top: -14px;">Limit Bottom - '+objDataName+"</div>")}}),render()},this.moveTo=function(idpage,limitMove){moveTo(idpage,limitMove)}};